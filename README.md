# Dummy-API

Данный репозиторий создан с целью изучения методов тестирования API на примере сервиса Dummy API. 

В данном документе описаны модели, применяемые на сервисе и ожидаемые ответы на запросы. Также представлены тест-кейсы для проверки работы сайта и оформлены баг-репорты при ошибках, обнаруженных во время тестирования. Кроме того, приложена коллекция запросов Postman и наглядная майнд-карта проекта.

WIP

## Оглавление

1. [Описание проекта](#описание-проекта)
    - [User](#user)
    - [Post](#post)
    - [Comment](#comment)
    - [Tag](#tag)
    - [Типы ошибок](#типы-ошибок)
2. [Майнд-карта](#майнд-карта)
3. [Тест-кейсы](#тест-кейсы)
4. [Баг-репорты](#баг-репорты)
5. [Коллекция Postman](#коллекция-postman)
6. [Автотесты](#автотесты)

## Описание проекта

http://dummyapi.io/ Данный сайт представляет собой сервис для тестированию API. 

Для выполнения запросов необходим app-id, который автоматически выдается после авторизации на сайте.


## User


### GET /user

Возвращает список пользователей, отсортированный по дате регистрации.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа пользователей на странице.

**Response Body:**

**List**
```javascript
{
data: Array(User Preview)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### GET /user/:id

Возвращает данные пользователя с указанным идентификатором.

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```


### POST /user/create

Создает нового пользователя. Возвращает данные созданного пользователя.

В теле запроса обязательными являются следующие поля:
- firstName
- lastName
- email

**Request Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```


### PUT /user/:id

Заменяет данные пользователя с указанным идентификатором. Возвращает обновленные данные.

В теле запроса указать только данные для замены. **Email** изменять запрещено.

**Request Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```


### DELETE /user/:id

Удаляет данные пользователя с указанным идентификатором.

**Response Body: string**


## Post


### GET /post

Возвращает список постов, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Post Preview)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### GET /user/:id/post

Возвращает список постов, созданных определенным пользователем, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Post Preview)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### GET /tag/:id/post

Возвращает список постов, выбранных по определенному тэгу, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Post Preview)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### GET /post/:id

Возвращает содержимогое поста с указанным идентификатором. 

**Response Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### POST /post/create

Создает новый пост. Возвращает содержимое созданного поста.

В теле запроса обязательными являются следующие поля:
- owner
- text

**Request Body:**

**Post Create**
```javascript
{
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
owner: string(User id)
}
```

**Response Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### PUT /post/:id

Заменяет данные поста с указанным идентификатором. Возвращает обновленные данные.

В теле запроса указать только данные для замены. Значение поля **owner** изменять запрещено.

**Request Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```

**Response Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```


### DELETE /post/:id

Удаляет пост с указанным идентификатором.

**Response Body: string**


## Comment


### GET /comment

Возвращает список комментариев, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа пользователей на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Comment)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Comment**
```javascript
{
id: string(autogenerated)
message: string(length: 2-500)
owner: object(User Preview)
post: string(Post Id)
publishDate: string(autogenerated)
}
```


### GET /post/:id/comment

Возвращает список комментариев, оставленных под определенным постом, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Comment)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Comment**
```javascript
{
id: string(autogenerated)
message: string(length: 2-500)
owner: object(User Preview)
post: string(Post Id)
publishDate: string(autogenerated)
}
```


### GET /user/:id/comment

Возвращает список комментариев, созданных определенным пользователем, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Comment)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Comment**
```javascript
{
id: string(autogenerated)
message: string(length: 2-500)
owner: object(User Preview)
post: string(Post Id)
publishDate: string(autogenerated)
}
```


### POST /comment/create

Создает новый комментарий. Возвращает содержимое оставленного комментария.

В теле запроса обязательными являются следующие поля:
- owner
- post

**Request Body:**

**Comment Create**
```javascript
{
message: string(length: 2-500)
owner: string(User Id)
post: string(Post Id)
}
```

**Response Body:**

**Comment**
```javascript
{
id: string(autogenerated)
message: string(length: 2-500)
owner: object(User Preview)
post: string(Post Id)
publishDate: string(autogenerated)
}
```


### DELETE /comment/:id

Удаляет определенный по id комментарий, возвращает значение его id.

**Response Body: string**


## Tag


### GET /tag

Возвращает список тэгов.

**Response Body:**

**List**
```javascript
{
data: Array(string)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```




## Типы ошибок

**APP_ID_NOT_EXIST**

**app-id** указан, но значение некорректно.

___
**APP_ID_MISSING**

**app-id** не указан корректным образом. Обратите внимание, что **app-id** должен быть указан для каждого запроса. Рекомендуется ознакомиться с кратким руководством **Getting Started** для более подробной информации.

___
**PARAMS_NOT_VALID**

Некорректно указаны параметры в URL (например: /user/{id} - где {id} некорректен). Ошибка происходит в обоих случаях: когда некоректен формат параметра, а также, есле параметр не найден.

___
**BODY_NOT_VALID**

Применимо для всех запросов, кроме GET (таких, как: POST, PUT или DELETE). Некорректный формат тела запроса, или несколько ключевых параметров запроса.

___
**RESOURCE_NOT_FOUND**

Применимо для всех запросов, содержащих параметр **id** в URL. Означает, что запрошенные данные не найдены (для команд get, update, delete). Сообщение уместно при попытке создать пост для пользователя, который не существует либо был удален.

___
**PATH_NOT_FOUND**

Путь запроса некорректен, следует свериться с документацией, чтобы уточнить нужный URL.

___
**SERVER_ERROR**

Что-то случилось с сервером, попробуйте отправить запрос повторно. Кроме того, можно сообщить об ошибке службе поддержки - через телеграм или почту.

## Майнд-карта

![Alt-текст](https://i.imgur.com/76MAVP3.png "МК")

Также майнд-карту можно [скачать](https://github.com/Arjen-Migrator/Dummy-API/blob/main/DummyAPI.xmind).

## Тест-кейсы

## Баг-репорты

00 - В разделе **Error Types** в документации некорректно составлено описание для ошибки **RESOURCE_NOT_FOUND**

*Серьезность: тривиальная*

*Шаги воспроизведения:*
1. Открыть страницу https://dummyapi.io/docs/errors
2. Обратить внимание на описание к ошибке *RESOURCE_NOT_FOUND*

*Наблюдаемый результат:*

Applicable for all requests that has {id} URL param. Mean that item that was requested(for get, update, delete) is not found. Works correctly if you try to create a post for user that not exist or deleted.

*Ожидаемый результат:*

Applicable for all requests that **have** {id} URL param. **It means** that item that was **requested (for GET, UPDATE, DELETE)** is not found. Works correctly if you try to create a post for user that **does not** exist or **was** deleted.
___
## Коллекция Postman

## Автотесты
