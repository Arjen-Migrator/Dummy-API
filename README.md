# Dummy-API

WIP

## Оглавление

1. [Описание проекта](#описание-проекта)
    - [User](#user)
    - [Post](#post)
2. [Майнд-карта](#майнд-карта)
3. [Тест-кейсы](#тест-кейсы)
4. [Баг-репорты](#баг-репорты)
5. [Коллекция POSTMAN](#коллекция-postman)
6. [Автотесты](#автотесты)

## Описание проекта

http://dummyapi.io/ Данный сайт представляет собой сервис для тестированию API. 

Для выполнения запросов необходим app-id, который автоматически выдается после авторизации на сайте.

___
### User

___
### GET /user

Возвращает список пользователей, отсортированный по дате регистрации.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа пользователей на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Model)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```
**User Preview**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
picture: string(url)
}
```

___
### GET /user/:id

Возвращает данные пользователя с указанным идентификатором.

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

___
### POST /user/create

Создает нового пользователя. Возвращает данные созданного пользователя.

В теле запроса обязательными являются следующие поля:
- firstName
- lastName
- email

**Request Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

___
### PUT /user/:id

Заменяет данные пользователя с указанным идентификатором. Возвращает обновленные данные.

В теле запроса указать только данные для замены. **Email** изменять запрещено.

**Request Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

**Response Body:**

**User Full**
```javascript
{
id: string(autogenerated)
title: string("mr", "ms", "mrs", "miss", "dr", "")
firstName: string(length: 2-50)
lastName: string(length: 2-50)
gender: string("male", "female", "other", "")
email: string(email)
dateOfBirth: string(ISO Date - value: 1/1/1900 - now)
registerDate: string(autogenerated)
phone: string(phone number - any format)
picture: string(url)
location: object(Location)
}
```

**Location**
```javascript
{
street: string(length: 5-100)
city: string(length: 2-30)
state: string(length: 2-30)
country: string(length: 2-30)
timezone: string(Valid timezone value ex. +7:00, -1:00)
}
```

___
### DELETE /user/:id

Удаляет данные пользователя с указанным идентификатором.

**Response Body: string**

___
### Post

___
### GET /post

Возвращает список постов, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Model)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### GET /user/:id/post

Возвращает список постов, созданных определенным пользователем, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Model)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### GET /tag/:id/post

Возвращает список постов, выбранных по определенному тэгу, отсортированных по дате создания.
- доступен query params для вывода определенной страницы.
- доступен query params для отображения определенного числа постов на странице.

**Response Body:**

**List**
```javascript
{
data: Array(Model)
total: number(total items in DB)
page: number(current page)
limit: number(number of items on page)
}
```

**Post Preview**
```javascript
{
id: string(autogenerated)
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### GET /post/:id

Возвращает содержимогое поста с указанным идентификатором. 

**Response Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### POST /post/create

Создает новый пост. Возвращает содержимое созданного поста.

В теле запроса обязательными являются следующие поля:
- owner
- text

**Request Body:**

**Post Create**
```javascript
{
text: string(length: 6-50, preview only)
image: string(url)
likes: number(init value: 0)
tags: array(string)
owner: string(User id)
}
```

**Response Body:**

**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### PUT /post/:id

Заменяет данные поста с указанным идентификатором. Возвращает обновленные данные.

В теле запроса указать только данные для замены. Значение поля **owner** изменять запрещено.

**Request Body:**
**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

**Response Body:**
**Post**
```javascript
{
id: string(autogenerated)
text: string(length: 6-1000)
image: string(url)
likes: number(init value: 0)
link: string(url, length: 6-200)
tags: array(string)
publishDate: string(autogenerated)
owner: object(User Preview)
}
```

___
### DELETE /post/:id

Удаляет пост с указанным идентификатором.

**Response Body: string**

___
### Типы ошибок

___
**APP_ID_NOT_EXIST**

**app-id** указан, но значение некорректно.

___
APP_ID_MISSING

**app-id** не указан корректным образом. Обратите внимание, что **app-id** должен быть указан для каждого запроса. Рекомендуется ознакомится с кратким руководством **Getting Started** для более подробной информации.

___
PARAMS_NOT_VALID

URL params (ex: /user/{id} - {id} is URL param) is not valid. This error returned in both cases: param format is invalid, param is not found.

___
BODY_NOT_VALID

Applicable only for not GET requests like POST, PUT or DELETE. Boyd format is invalid, or even some keys are not valid.

___
RESOURCE_NOT_FOUND

Применимо для всех запросов, содержащих параметр **id** в URL. Означает, что запрошенные данные не найдены (для команд get, update, delete). Сообщение уместно при попытке создать пост для пользователя, который не существует либо был удален.

___
PATH_NOT_FOUND

Путь запроса некорректен, следует свериться с документацией, чтобы уточнить нужный URL.

___
SERVER_ERROR

Что-то случилось с сервером, попробуйте отправить запрос повторно. Кроме того, можно сообщить об ошибке службе поддержки - через телеграм или почту.

## Майнд-карта

![Alt-текст](https://i.imgur.com/76MAVP3.png "МК")

Также майнд-карту можно [скачать](https://github.com/Arjen-Migrator/Dummy-API/blob/main/DummyAPI.xmind).

## Тест-кейсы

## Баг-репорты

## Коллекция POSTMAN

## Автотесты
